{"ast":null,"code":"import React,{useState}from'react';import{Container,Grow,Grid,AppBar,TextField,Button,Paper}from'@material-ui/core';import{useDispatch}from'react-redux';import{useNavigate,useLocation}from'react-router-dom';import ChipInput from'material-ui-chip-input';import{getPostsBySearch}from'../../actions/posts';import Posts from'../Posts/Posts';import Form from'../Form/Form';import Pagination from'../Pagination';import useStyles from'./styles';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function useQuery(){return new URLSearchParams(useLocation().search);}const Home=()=>{const classes=useStyles();const query=useQuery();const page=query.get('page')||1;const searchQuery=query.get('searchQuery');const[currentId,setCurrentId]=useState(0);const dispatch=useDispatch();const[search,setSearch]=useState('');const[tags,setTags]=useState([]);const navigate=useNavigate();const searchPost=()=>{if(search.trim()||tags){dispatch(getPostsBySearch({search,tags:tags.join(',')}));navigate(\"/posts/search?searchQuery=\".concat(search||'none',\"&tags=\").concat(tags.join(',')));}else{navigate('/');}};const handleKeyPress=e=>{if(e.keyCode===13){searchPost();}};const handleAddChip=tag=>setTags([...tags,tag]);const handleDeleteChip=chipToDelete=>setTags(tags.filter(tag=>tag!==chipToDelete));return/*#__PURE__*/_jsx(Grow,{in:true,children:/*#__PURE__*/_jsx(Container,{maxWidth:\"xl\",children:/*#__PURE__*/_jsxs(Grid,{container:true,justify:\"space-between\",alignItems:\"stretch\",spacing:3,className:classes.gridContainer,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:9,children:/*#__PURE__*/_jsx(Posts,{setCurrentId:setCurrentId})}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,sm:6,md:3,children:[/*#__PURE__*/_jsxs(AppBar,{className:classes.appBarSearch,position:\"static\",color:\"inherit\",children:[/*#__PURE__*/_jsx(TextField,{onKeyDown:handleKeyPress,name:\"search\",variant:\"outlined\",label:\"Search Memories\",fullWidth:true,value:search,onChange:e=>setSearch(e.target.value)}),/*#__PURE__*/_jsx(ChipInput,{style:{margin:'10px 0'},value:tags,onAdd:chip=>handleAddChip(chip),onDelete:chip=>handleDeleteChip(chip),label:\"Search Tags\",variant:\"outlined\"}),/*#__PURE__*/_jsx(Button,{onClick:searchPost,className:classes.searchButton,variant:\"contained\",color:\"primary\",children:\"Search\"})]}),/*#__PURE__*/_jsx(Form,{currentId:currentId,setCurrentId:setCurrentId}),!searchQuery&&!tags.length&&/*#__PURE__*/_jsx(Paper,{className:classes.pagination,elevation:6,children:/*#__PURE__*/_jsx(Pagination,{page:page})})]})]})})});};export default Home;","map":{"version":3,"names":["React","useState","Container","Grow","Grid","AppBar","TextField","Button","Paper","useDispatch","useNavigate","useLocation","ChipInput","getPostsBySearch","Posts","Form","Pagination","useStyles","jsx","_jsx","jsxs","_jsxs","useQuery","URLSearchParams","search","Home","classes","query","page","get","searchQuery","currentId","setCurrentId","dispatch","setSearch","tags","setTags","navigate","searchPost","trim","join","concat","handleKeyPress","e","keyCode","handleAddChip","tag","handleDeleteChip","chipToDelete","filter","in","children","maxWidth","container","justify","alignItems","spacing","className","gridContainer","item","xs","sm","md","appBarSearch","position","color","onKeyDown","name","variant","label","fullWidth","value","onChange","target","style","margin","onAdd","chip","onDelete","onClick","searchButton","length","pagination","elevation"],"sources":["/Users/deekshitha/Desktop/My_projects /Memories/client/src/components/Home/Home.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Container, Grow, Grid, AppBar, TextField, Button, Paper } from '@material-ui/core';\nimport { useDispatch } from 'react-redux';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport ChipInput from 'material-ui-chip-input';\n\nimport { getPostsBySearch } from '../../actions/posts';\nimport Posts from '../Posts/Posts';\nimport Form from '../Form/Form';\nimport Pagination from '../Pagination';\nimport useStyles from './styles';\n\nfunction useQuery() {\n  return new URLSearchParams(useLocation().search);\n}\nconst Home = () => {\n  const classes = useStyles();\n  const query = useQuery();\n  const page = query.get('page') || 1;\n  const searchQuery = query.get('searchQuery');\n\n  const [currentId, setCurrentId] = useState(0);\n  const dispatch = useDispatch();\n\n  const [search, setSearch] = useState('');\n  const [tags, setTags] = useState([]);\n  const navigate = useNavigate();\n\n  const searchPost = () => {\n    if (search.trim() || tags) {\n      dispatch(getPostsBySearch({ search, tags: tags.join(',') }));\n      navigate(`/posts/search?searchQuery=${search || 'none'}&tags=${tags.join(',')}`);\n    } else {\n      navigate('/');\n    }\n  };\n\n  const handleKeyPress = (e) => {\n    if (e.keyCode === 13) {\n      searchPost();\n    }\n  };\n\n  const handleAddChip = (tag) => setTags([...tags, tag]);\n\n  const handleDeleteChip = (chipToDelete) => setTags(tags.filter((tag) => tag !== chipToDelete));\n\n  return (\n    <Grow in>\n      <Container maxWidth=\"xl\">\n        <Grid container justify=\"space-between\" alignItems=\"stretch\" spacing={3} className={classes.gridContainer}>\n          <Grid item xs={12} sm={6} md={9}>\n            <Posts setCurrentId={setCurrentId} />\n          </Grid>\n          <Grid item xs={12} sm={6} md={3}>\n            <AppBar className={classes.appBarSearch} position=\"static\" color=\"inherit\">\n              <TextField onKeyDown={handleKeyPress} name=\"search\" variant=\"outlined\" label=\"Search Memories\" fullWidth value={search} onChange={(e) => setSearch(e.target.value)} />\n              <ChipInput\n                style={{ margin: '10px 0' }}\n                value={tags}\n                onAdd={(chip) => handleAddChip(chip)}\n                onDelete={(chip) => handleDeleteChip(chip)}\n                label=\"Search Tags\"\n                variant=\"outlined\"\n              />\n              <Button onClick={searchPost} className={classes.searchButton} variant=\"contained\" color=\"primary\">Search</Button>\n            </AppBar>\n            <Form currentId={currentId} setCurrentId={setCurrentId} />\n            {(!searchQuery && !tags.length) && (\n              <Paper className={classes.pagination} elevation={6}>\n                <Pagination page={page} />\n              </Paper>\n            )}\n          </Grid>\n        </Grid>\n      </Container>\n    </Grow>\n  );\n};\n\nexport default Home;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}